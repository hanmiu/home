<!doctype html>
<meta charset="utf-8">
<style>
  body {
    margin: 0;
    padding: 10vw;
    font-family: sans-serif;
  }
  
  h1 {
    font-size: 6vh;
    text-align: center;
  }
  
  p {
    font-size: 2.5vh;
    line-height: 1.5em;
  }
  
  strong {
    background-color: yellow;
  }
  
  .desc {
    color: slategray;
    text-align: left;
  }
  
  .hint {
    color: black;
    text-align: center;
  }
  
  .notice {
    color: #6c2aff;
    text-align: center;
    font-size: 1em; 
  }
  
  .intro {
    color: dimgray;
    text-align: center;
  }
  
  .qr {
    height: 25vh;
    margin-bottom: 5vh;
  }
  
  .visual img {
    display: block;
    margin: auto;
  }
  
  .solve {
    text-align: center;
  }
  
  .solve-riddle {
    text-align: center;
    margin: auto;
    padding: 5px;
    width: 200px;
    height: 40px;
    line-height: 40px;
    font-size: 30px;
    border-radius: 15px;
    background-color: aquamarine;
    color: cadetblue;
    font-weight: bold;
    cursor: pointer;
    user-select: none;
  }
  
  .solve-riddle:active {
    background-color: aqua;
  }
  
  .solve-riddle a {
    text-decoration: none;
    color: cadetblue;
  }
</style>
<body>
  <div id="content">한미유치원 2019학년도 2학기 참여 수업</div>
</body>
<script src="./qrcode.min.js"></script>
</script>
<script>
  let el_content = document.querySelector('#content');
  
  function init() {
    let params = new URLSearchParams(location.search.slice(1));
    
    let qrcode = new QRCode({
      content: location.href,
      ecl: 'L',
      padding: 0,
      width: 100,
      height: 100,
      color: "#000000",
      background: "#ffffff",
    });
    
    let svg_str = qrcode.svg();
    
    let title = params.get('w');
    let desc = '?';
    let hint = '???';
    
    console.log(params.get('w'));
    
    switch(params.get('w')) {
      case 'A1_m9dc':
        desc = `어느 평화로운 마을에 조금은 무서운 일이났어. 코로일구라는 괴물들이 마을을 습격한거야! 그 마을에는 요술 <strong>모자를 쓴</strong> 아이가 있었어. 바로 목화였지. 모자를 쓴 목화는 코로일구가 잠든 사이에 마을 사람들을 안전한 곳으로 데려다 주었어.`;
        hint = '';
        break;
      case 'A2_c50y':
        desc = `다음 날, 코로일구가 마을에 다시 나타나자 목화는 코로일구를 물리칠 방법을 생각했어. 그러던 중 주변에 주렁주렁 열려있던 <strong>열매</strong>가 눈에 띄었지. 한참을 고민하던 목화는 주문을 외우기 시작했어. <p>뚜뚜따리 뚜뚜따리 얍~</p>`;
        hint = '';
        break;
      case 'A3_p5y6':
        desc = `목화가 주문을 외우자 마을에 있던 열매들이 슝~ 날아와서 마을 주변으로 모였어. <strong>다닥다닥 붙은</strong> 열매들은 동그랗게 마을에 보호막을 만들기 시작했어. 목화는 주문을 한번 더 외웠어. <p>뚜뚜따리 뚜뚜따리 얍~</p> 그러자 열매에서 환한 빛이 나오더니 코로일구가 먼지처럼 사라졌어! 코로일구가 사라지자 목화는 다시 주문을 외웠어 <p>뚜뚜따리 뚜뚜따리 얍~</p>`;
        hint = '';
        break;
      case 'A4_06ch':
        desc = `그러자 열매들이 다시 슝~ 하고 나무로 돌아갔어. <strong>나무는</strong> 열매들이 돌아오자 마법의 힘을 얻어 쑥쓕 자라나고 더 맑은 공기를 만들어내서 코로일구같은 나쁜 바이러스들이 더이상 오지 못했대~`;
        hint = '';
        break;
      case 'A5_51j8':
        desc = `그런데 코로일구가 갑자기 마을을 공격한 이유는 <strong>무엇일까?</strong> 정말 궁금하지 않니?`;
        hint = '';
        break;
      case 'B1_6g67':
        desc = `어느 평화로운 마을에 조금은 무서운 일이났어. 코로일구라는 괴물들이 마을을 습격한거야! 그 마을에는 요술 <strong>모자를 쓴</strong> 아이가 있었어. 바로 목화였지. 모자를 쓴 목화는 코로일구가 잠든 사이에 마을 사람들을 안전한 곳으로 데려다 주었어.`;
        hint = '';
        break;
      case 'B2_4rd2':
        desc = `다음 날, 코로일구가 마을에 다시 나타나자 목화는 코로일구를 물리칠 방법을 생각했어. 그러던 중 주변에 주렁주렁 열려있던 <strong>열매</strong>가 눈에 띄었지. 한참을 고민하던 목화는 주문을 외우기 시작했어. <p>뚜뚜따리 뚜뚜따리 얍~</p>`;
        hint = '';
        break;
      case 'B3_5f89':
        desc = `목화가 주문을 외우자 마을에 있던 열매들이 슝~ 날아와서 마을 주변으로 모였어. <strong>다닥다닥 붙은</strong> 열매들은 동그랗게 마을에 보호막을 만들기 시작했어. 목화는 주문을 한번 더 외웠어. <p>뚜뚜따리 뚜뚜따리 얍~</p> 그러자 열매에서 환한 빛이 나오더니 코로일구가 먼지처럼 사라졌어! 코로일구가 사라지자 목화는 다시 주문을 외웠어 <p>뚜뚜따리 뚜뚜따리 얍~</p>`;
        hint = '';
        break;
      case 'B4_zp0s':
        desc = `그러자 열매들이 다시 슝~ 하고 나무로 돌아갔어. <strong>나무는</strong> 열매들이 돌아오자 마법의 힘을 얻어 쑥쓕 자라나고 더 맑은 공기를 만들어내서 코로일구같은 나쁜 바이러스들이 더이상 오지 못했대~`;
        hint = '';
        break;
      case 'B5_0r74':
        desc = `그런데 코로일구가 갑자기 마을을 공격한 이유는 <strong>무엇일까?</strong> 정말 궁금하지 않니?`;
        hint = '';
        break;
      case 'C1_3poh':
        desc = `어느 평화로운 마을에 조금은 무서운 일이났어. 코로일구라는 괴물들이 마을을 습격한거야! 그 마을에는 요술 <strong>모자를 쓴</strong> 아이가 있었어. 바로 목화였지. 모자를 쓴 목화는 코로일구가 잠든 사이에 마을 사람들을 안전한 곳으로 데려다 주었어.`;
        hint = '';
        break;
      case 'C2_1x29':
        desc = `다음 날, 코로일구가 마을에 다시 나타나자 목화는 코로일구를 물리칠 방법을 생각했어. 그러던 중 주변에 주렁주렁 열려있던 <strong>열매</strong>가 눈에 띄었지. 한참을 고민하던 목화는 주문을 외우기 시작했어. <p>뚜뚜따리 뚜뚜따리 얍~</p>`;
        hint = '';
        break;
      case 'C3_ru90':
        desc = `목화가 주문을 외우자 마을에 있던 열매들이 슝~ 날아와서 마을 주변으로 모였어. <strong>다닥다닥 붙은</strong> 열매들은 동그랗게 마을에 보호막을 만들기 시작했어. 목화는 주문을 한번 더 외웠어. <p>뚜뚜따리 뚜뚜따리 얍~</p> 그러자 열매에서 환한 빛이 나오더니 코로일구가 먼지처럼 사라졌어! 코로일구가 사라지자 목화는 다시 주문을 외웠어 <p>뚜뚜따리 뚜뚜따리 얍~</p>`;
        hint = '';
        break;
      case 'C4_66em':
        desc = `그러자 열매들이 다시 슝~ 하고 나무로 돌아갔어. <strong>나무는</strong> 열매들이 돌아오자 마법의 힘을 얻어 쑥쓕 자라나고 더 맑은 공기를 만들어내서 코로일구같은 나쁜 바이러스들이 더이상 오지 못했대~`;
        hint = '';
        break;
      case 'C5_q6wk':
        desc = `그런데 코로일구가 갑자기 마을을 공격한 이유는 <strong>무엇일까?</strong> 정말 궁금하지 않니?`;
        hint = '';
        break;
    }
    
    let index = title[1];
    let id = title.slice(0, 2);
    let template = `
      <p class="intro">이야기 조각을 찾았습니다!</p>
      <p class="notice">아래 이야기를 캡쳐해서 수수께끼를 풀 때 활용하세요.</p>
      <h1>${index}/5</h1>
      <div class="qr">${svg_str}</div>
      <div class="visual">
        <img src="./img/2020/${id}.jpg">
      </div>
      <p class="desc">${desc}</p>
      <hr>
      <p>
        <p class="notice">모든 이야기 조각을 모아 이야기를 합쳐보면, 수수께끼(노란색으로 강조한 글들을 합치면)가 나옵니다.</p>
        <p class="notice">아래 버튼을 눌러 그 수수께끼를 풀어보세요.</p>
      <div-class="solve">
        <div class="solve-riddle"><a href="https://google.com" target="_blank">수수께끼 풀기</a></div>
      </div>
    `;
    
    el_content.innerHTML = template;
    
    let svg = el_content.querySelector('svg');
    svg.setAttribute('width', '100%');
    svg.setAttribute('height', '100%');
    svg.setAttribute('viewBox', '0 0 100 100');
  }
  
  window.onload = init;
</script>