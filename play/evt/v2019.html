<!doctype html>
<meta charset="utf-8">
<style>
</style>
<body>
  <div id="content">
    <h1>시나리오 1</h1>
    <p>그래서 어디로?</p>
    <ul>
      <li><a href="./v2019.html?scene=s02">시나리오 2</a></li>
      <li><a href="./v2019.html?scene=s03">시나리오 3</a></li>
    </ul>   
  </div>
</body>
<script src="./qrcode.min.js"></script>
</script>
<script>
  let el_content = document.querySelector('#content');
  
  function init() {
    let params = new URLSearchParams(location.search.slice(1));
    
    let qrcode = new QRCode({
      content: location.href,
      ecl: 'L',
      width: 100,
      height: 100,
      color: "#000000",
      background: "#ffffff",
    });
    
    let svg_str = qrcode.svg();
    
    if(params.get('scene') == 's01') {
      el_content.innerHTML = `
      <h1>시나리오 1</h1>
      <div style="width: 200px; height: 100px">${svg_str}</div>
      <p>그래서 어디로?</p>
      <ul>
        <li><a href="./v2019.html?scene=s02">시나리오 2</a></li>
        <li><a href="./v2019.html?scene=s03">시나리오 3</a></li>
      </ul>  
      `;
    }
    
    if(params.get('scene') == 's02') {
      el_content.innerHTML = `
      <h1>시나리오 2</h1>
      <div style="width: 200px; height: 100px">${svg_str}</div>
      <p>여기는 2, 그리고 갈 수 있는 곳은</p>
      <ul>
        <li><a href="./v2019.html?scene=s03">시나리오 3</a></li>
        <li><a href="./v2019.html?scene=s01">시나리오 1</a></li>
      </ul>  
      `;
    }
    
    if(params.get('scene') == 's03') {
      el_content.innerHTML = `
      <h1>시나리오 3</h1>
      <div style="width: 200px; height: 100px">${svg_str}</div>
      <p>여기는 3, 그리고 갈 수 있는 곳은</p>
      <ul>
        <li><a href="./v2019.html?scene=s03">시나리오 2</a></li>
        <li><a href="./v2019.html?scene=s01">시나리오 1</a></li>
      </ul>  
      `;
    }
  }
  
  window.onload = init;
</script>