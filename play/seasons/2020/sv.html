<!doctype html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet">
<title>ì‹ ê¸°í•œ ì—¬ë¦„ë°©í•™</title>
<style>
  body {
    margin: 0;
    user-select: none;
    overflow: hidden;
    font-family: sans-serif;
  }
  
  #title {
    position: fixed;
    left: 0px;
    top: 0px;
    display: flex;
    box-sizing: border-box;
    width: 100vw;
    height: 10vh;
    background-color: #e9fff8;
    background-image: url(./images/summer_vacation.svg);
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    align-items: center;
    justify-content: center;
    font-size: 5vh;
    z-index: 100;
  }
  
  #spots {
    position: fixed;
    left: 0px;
    top: 10vh;
    box-sizing: border-box;
    width: 25vw;
    height: 90vh;
    background-color: #b0ffe7;
    overflow-y: scroll;
    user-select: none;
    -webkit-user-select: none;
  }
  
  .spot {
    display: inline-block;
    width: 16vw;
    height: 16vw;
    margin: 4vw 0.5vw 0vw 3vw;
    background-color: azure;
    border-radius: 20vw;
    border: 1.5vw solid #90e5e5;
    background-size: contain;
    /* background-repeat: no-repeat; */
    box-shadow: 0px 0px 10px rgba(255, 255, 255, 0);
    transition: 0.5s border, 1s box-shadow;
  }
  
  .spot[curr='1'] {
    border: 1.5vw solid #8900ff;
    box-shadow: 0px 0px 10px #ff3bd9;
  }
  
  .emptyspot {
    display: inline-block;
    width: 16vw;
    height: 16vw;
    margin: 4vw 0.5vw 0vw 3vw;
  }
  
  #content {
    position: fixed;
    left: 25vw;
    top: 10vh;
    box-sizing: border-box;
    width: 75vw;
    height: 70vh;
    background-color: #fffcb0;
    overflow-y: scroll;
    user-select: none;
    -webkit-user-select: none;
    background-size: contain;
    background-repeat: no-repeat;
  }
  
  #message {
    padding: 2vh;
    width: 65vw;
    font-size: 3vh;
    font-family: 'Do Hyeon', sans-serif;
    line-height: 1.5em;
    color: #434343;
    float: left;
  }
  
  strong {
    color: #8900ff;
    text-shadow: 0px 0px 2px #c179ff;
  }
  
  #control {
    position: fixed;
    left: 25vw;
    bottom: 0vh;
    box-sizing: border-box;
    width: 75vw;
    height: 20vh;
    background-color: #d1b0ff;
    user-select: none;
    -webkit-user-select: none;
  }
  
  #notice {
    color: aqua;
    font-size: 10vh;
  }
  
  #dice-holder {
    position: absolute;
    left: 0vh;
    top: 0vh;
    width: 20vh;
    height: 20vh;
  }
  
  #dice {
    position: absolute;
    left: 4vh;
    top: 4vh;
    width: 12vh;
    height: 12vh;
    background-color: beige;
    background-image: url(./dice/dice.svg);
    border-radius: 1vh;
    background-size: cover;
    background-repeat: no-repeat;
    background-position: 0vh 0vh;
    border: 1px solid #bdbda7;
  }
  
  #roll-info-holder {
    position: absolute;
    left: 20vh;
    top: 0vh;
    width: calc(100vw - 20vh - 25vw);
    height: 20vh;
    background-color: #b0ffe7;
  }
  
  #roll-info {
    padding: 2vh;
    font-family: 'Do Hyeon', sans-serif;
    font-size: 2.5vh;
    line-height: 1.5em;
  }
  
  #info {
    font-size: 20px;
  }
  
  .thumb {
    width: 3vh;
    height: 3vh;
    border-radius: 3vh;
  }
  
  .thumb-big {
    margin-right: 1vh;
    width: 20vh;
    height: 20vh;
    border-radius: 20vh;
    float: left;
  }
  
  .thumb-mid {
    margin-left: 1vh;
    margin-right: 2vh;
    width: 5vh;
    height: 5vh;
    transform: translate(0.0, 0.9vh) scale(1.5);
    background-color: azure;
    border-radius: 5vh;
  }
  
  
</style>
<body>
  <div id="title"></div>
  <div id="spots"></div>
  <div id="content">
    <div id="message">
      ì™¼ìª½ ê·¸ë¦¼ì„ ìŠ¤í¬ë¡¤ í•˜ë©´ ë³´ë“œê²Œì„ì˜ ì¹¸ì„ ì‚´í´ë³´ë©° ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ ì£¼ì‚¬ìœ„ğŸ²ë¥¼ í´ë¦­í•´ì„œ ì‹œì‘í•´ ë³´ì„¸ìš”. QRì½”ë“œê°€ <strong>0</strong>ë²ˆì§¸ ì¹¸ì…ë‹ˆë‹¤.
    </div>
  </div>
  <div id="control">
    <div id="dice-holder">
      <div id="dice"></div>
      <div id="roll-info-holder">
        <div id="roll-info"><strong>â† ğŸ²</strong>ë¥¼ í´ë¦­í•´ì„œ ë‚˜ì˜¨ ìˆ«ì ë§Œí¼ ì•ìœ¼ë¡œ ê°‘ë‹ˆë‹¤! QRì½”ë“œì—ì„œ ì¶œë°œí•˜ì„¸ìš”~</div>
      </div>
    </div>
    
  </div>
</body>
<script>
  let el_spots = document.querySelector('#spots');
  let el_content = document.querySelector('#content');
  let el_message = document.querySelector('#message');
  let el_dice = document.querySelector('#dice');
  let el_roll_info = document.querySelector('#roll-info');
  
  let spots = [];
  
  let frame_count = 0;
  let n_rolling = 0;
  let current_face = 0;
  let current_spot_idx = 0;
  let roll_count = 0;
  let total_dice_sum = 0;
  
  let effs = 'ëŒëŒ~,ë¹™ê¸€~,ë±…ê¸€,ë”±~'.split(',');
  let on_special_event = false;
  
  for(let i = 0; i < 40; i++) {
    let el_spot = document.createElement('div');
    if(i !== 39) {
      el_spot.className = 'spot';
      el_spot.style['background-image'] = `url(./spots/${i}.png)`;
      el_spot.onclick = fire;  
    }
    else {
      el_spot.className = 'emptyspot';
    }
    spots.push(el_spot);
    el_spots.appendChild(el_spot);
  }
  
  function halo(n) {
    for(let i = 0; i < spots.length; i++) {
      spots[i].setAttribute('curr', '');
    }
    spots[n].setAttribute('curr', '1');
  }
  
  function fire(e) {
    let idx = spots.indexOf(e.target);
    halo(idx);
    current_spot_idx = idx;
    after_fire();
    el_roll_info.innerHTML = `ìœ„ ì•ˆë‚´ë¥¼ ë”°ë¥¸ í›„, ğŸ²ë¥¼ êµ´ë ¤ì„œ ì§„í–‰í•©ë‹ˆë‹¤.`;
  }
  
  function thumb(idx) {
    let url = `./spots/${idx}.png`;
    let img = `<img class="thumb-mid" src="${url}">`;
    return img;
  }
  
  function after_fire() {
    let idx = current_spot_idx;
    let img_url = `./spots/${idx}.png`;
    let img = `<img class="thumb-big" src="${img_url}">`;
    
    //let next_idx = Math.max(Math.min(idx + current_face, spots.length - 1), 0);
    let NB = `<a href="https://www.youtube.com/channel/UCPlwvN0w4qFSP1FllALB92w" target="_blank">ë„˜ë²„ë¸”ë¡ìŠ¤</a>`;
    
    let n = 0;
    
    let msg = `<br><strong>${idx}</strong>ë²ˆì§¸ ì¹¸ì— <br>ë„ì°©í–ˆìŠµë‹ˆë‹¤.<br><br><br>`;
    switch(idx) {
      case 0:
        msg += `ì¶œë°œ ì§€ì ì…ë‹ˆë‹¤. ì•„ë˜ ğŸ²ë¥¼ í´ë¦­í•´ì„œ ë³´ë“œê²Œì„ì„ ì‹œì‘í•´ ë³´ì„¸ìš”.`;
        roll_count = 0;
        total_dice_sum = 0;
        break;
      case 1:
        msg += `ì•„ì§ ì•„ë¬´ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. <br><br>'ì‹ ê¸°í•œ ìƒë¬¼ ì‚¬ì „'ì— ì°¸ì—¬í•˜ë‹¤ë³´ë©´, ë‹¤ìŒì—ëŠ” ë­”ê°€ ë°”ë€”ì§€ë„ ëª°ë¼ìš”. ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”.`;
        break;
      case 2:
        msg += `ì•„ì§ ì•„ë¬´ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. <br><br>'ì‹ ê¸°í•œ ìƒë¬¼ ì‚¬ì „'ì— ì°¸ì—¬í•˜ë‹¤ë³´ë©´, ë‹¤ìŒì—ëŠ” ë­”ê°€ ë°”ë€”ì§€ë„ ëª°ë¼ìš”. ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”.`;
        break;
      case 3:
        msg += `<strong>+1</strong>ì´ ë‚˜ì™”êµ°ìš”! í•œ ì¹¸ ì•ì¸ ${thumb(idx+1)}ë¡œ ê°€ì•¼í•©ë‹ˆë‹¤.`;
        break;
      case 4:
        msg += `<strong>ì†œê½ƒ</strong>ì´ê°€ ë¬¼ì–´ë´…ë‹ˆë‹¤.<br>(ì†œê½ƒì´ëŠ” 'ëª©í™”'ì˜ ë³„ëª…ì´ì—ìš”.) <br><br>`;
        if(Math.random() > 0.5) {
          msg += `"ì˜¤ëŠ˜ ì´ë¥¼ ì˜ ë‹¦ì•˜ë‹ˆ?" ì´ë¥¼ ê¹¨ë—í•˜ê²Œ ì˜ ë‹¦ì•˜ìœ¼ë©´ ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”.`;
        }
        else {
          msg += `"ì˜¤ëŠ˜ ì†ì„ ê¹¨ë—í•˜ê²Œ ë‹¦ì•˜ë‹ˆ?" ì†ì´ ê¹¨ë—í•˜ë©´ ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”.`;  
        }
        break;
      case 5:
        msg += `<strong>-1</strong>ì´ ë‚˜ì™”êµ°ìš”! í•œ ì¹¸ ë’¤ì¸ ${thumb(idx-1)}ë¡œ ê°€ì•¼í•©ë‹ˆë‹¤.`;
        break;
      case 6:
        msg += `<strong>+2</strong>ê°€ ë‚˜ì™”êµ°ìš”! ë‘ ì¹¸ ì•ì¸ ${thumb(idx+2)}ë¡œ ê°€ì•¼í•©ë‹ˆë‹¤. <br><br>ìˆ«ìì— ê´€í•´ ê¶ê¸ˆí•˜ë©´ ${NB}ë¥¼ ì°¸ê³ í•˜ì„¸ìš”. ì§€ê¸ˆ ë§ê³  ë‚˜ì¤‘ì— ì—„ë§ˆ ì•„ë¹ ì™€ ì•½ì†ì„ ì •í•˜ê³  ë³´ê¸°ë¡œ í•´ìš”.`;
        break;
      case 7:
        msg += `ì´ ì‹ ê¸°í•œ ìƒë¬¼ì˜ ì´ë¦„ì€ <strong>í•˜íŠ¸ ê´´ë¬¼</strong>ì´ì—ìš”. "ì‚¬ëŒë“¤ì—ê²Œ ì‚¬ë‘ì„ ë‚˜ëˆ„ì–´ì£¼ëŠ” ì°©í•œ ê´´ë¬¼"ì…ë‹ˆë‹¤. ì¼ì‚°ì—­ ì‚°ì±…ê¸¸ (<a href="https://www.google.com/maps/place/37%C2%B041'09.6%22N+126%C2%B045'38.2%22E/@37.6859558,126.7600986,18z" target="_blank"><strong>37.685990, 126.760604</strong></a> )ì—ì„œ ë§Œë‚  ìˆ˜ ìˆì–´ìš”. ë‚˜ì¤‘ì— ì‚°ì±…í•  ë•Œ ì°¾ì•„ë³´ì„¸ìš”. ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°‘ë‹ˆë‹¤~`;
        break;
      case 8:
        n = 7 + (Math.random() * 4 | 0);
        if(Math.random() > 0.5) {
          msg += `<strong>ìš°ì£¼ ìœ </strong>ê°€ ë¸”ë™ í™€ì— ë¹ ì¡ŒìŠµë‹ˆë‹¤! ğŸ²ë¥¼ êµ´ë ¤ì„œ ì§ìˆ˜(<strong>2, 4, 6</strong> ì¤‘ í•˜ë‚˜ê°€ ë‚˜ì˜¤ë©´ <strong>${n}</strong>ì¹¸ ì•ì¸ ${thumb(idx+n)}ë¡œ ìˆœê°„ì´ë™í•©ë‹ˆë‹¤. í™€ìˆ˜(1, 3, 5) ì¤‘ í•˜ë‚˜ê°€ ë‚˜ì˜¤ë©´ ë‹¤ì‹œ ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì•ìœ¼ë¡œ ê°€ì„¸ìš”.`;
        }
        else {
          msg += `<strong>ìš°ì£¼ ìœ </strong>ê°€ ì¶”ì§„ê¸°ë¥¼ ì‘ë™í–ˆìŠµë‹ˆë‹¤! ğŸ²ë¥¼ êµ´ë ¤ì„œ í™€ìˆ˜(<strong>1, 3, 5</strong> ì¤‘ í•˜ë‚˜ê°€ ë‚˜ì˜¤ë©´ <strong>${n}</strong>ì¹¸ ì•ì¸ ${thumb(idx+n)}ë¡œ ë‚ ì•„ê°‘ë‹ˆë‹¤. ì§ìˆ˜(2, 4, 6) ì¤‘ í•˜ë‚˜ê°€ ë‚˜ì˜¤ë©´ ë‹¤ì‹œ ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì•ìœ¼ë¡œ ê°€ì„¸ìš”.`;
        }
        on_special_event = true;
        break;
      case 9:
        msg += `ì´ ì‹ ê¸°í•œ ìƒë¬¼ì˜ ì´ë¦„ì€ <strong>í”„ë¦¬í‹° í¬ê·¸ ë¡œí¬ ì‚¬ìš°ë¥´ìŠ¤</strong>ì´ì—ìš”. "ë³ì´ ë‹¬ë¦° ê·€ì—¬ìš´ ê°œêµ¬ë¦¬ë¥¼ ë‹®ì€ ë„ë§ˆë±€ ê³µë£¡"ì…ë‹ˆë‹¤. ì¼ì‚°ì—­ ê·¼ì²˜ ( <a href="https://www.google.com/maps/place/37%C2%B040'57.5%22N+126%C2%B046'03.1%22E/@37.682633,126.7653253,17z" target="_blank"><strong>37.685990, 126.760604</strong></a> )ì—ì„œ ë§Œë‚  ìˆ˜ ìˆì–´ìš”. ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°‘ë‹ˆë‹¤~`;
        break;
      case 10:
        msg += `<strong>-2</strong>ê°€ ë‚˜ì™”êµ°ìš”! ë‘ ì¹¸ ë’¤ì¸ ${thumb(idx-2)}ë¡œ ê°€ì•¼í•©ë‹ˆë‹¤. <br><br>ìˆ«ìì— ê´€í•´ ê¶ê¸ˆí•˜ë©´ ${NB}ë¥¼ ì°¸ê³ í•˜ì„¸ìš”. ì§€ê¸ˆ ë§ê³  ë‚˜ì¤‘ì— ì—„ë§ˆ ì•„ë¹ ì™€ ì•½ì†ì„ ì •í•˜ê³  ë³´ê¸°ë¡œ í•´ìš”.`;
        break;
      case 11:
        msg += `<strong>+3</strong>ì´ ë‚˜ì™”êµ°ìš”! ì„¸ ì¹¸ ì•ì¸ ${thumb(idx+3)}ë¡œ ê°€ì•¼í•©ë‹ˆë‹¤.`;
        break;
      case 12:
        msg += `ì•„ì§ ì•„ë¬´ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. <br><br>ì´ë”°ê°€ ì—¬ë¦„ë°©í•™ì±…ì— ë„£ì„ 'ì‹ ê¸°í•œ ìƒë¬¼'ì„ ìƒˆë¡œ ê·¸ë ¤ ë³´ì„¸ìš”. ë‹¤ìŒì—ëŠ” ë­”ê°€ ë°”ë€”ì§€ë„ ëª°ë¼ìš”. ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”.`;
        break;
      case 13:
        msg += `ì•„ì§ ì•„ë¬´ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. <br><br>ì´ë”°ê°€ ì—¬ë¦„ë°©í•™ì±…ì— ë„£ì„ 'ì‹ ê¸°í•œ ìƒë¬¼'ì„ ìƒˆë¡œ ê·¸ë ¤ ë³´ì„¸ìš”. ë‹¤ìŒì—ëŠ” ë­”ê°€ ë°”ë€”ì§€ë„ ëª°ë¼ìš”. ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”.`;
        break;
      case 14:
        msg += `<strong>ë‘ìƒˆ</strong>ê°€ì¡±ì„ ë§Œë‚¬ìŠµë‹ˆë‹¤! <br><br>`;
        if(Math.random() > 0.5) {
          msg += `ì˜¤ëŠ˜ í•˜ê³  ì‹¶ì€ ì¼ì´ ë¬´ì—‡ì´ ìˆëŠ”ì§€ ìš°ë¦¬ ê°€ì¡±ë„ ì„œë¡œ ë¬¼ì–´ë´ ì£¼ë©° ì´ì•¼ê¸° ë‚˜ëˆ ìš”. ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”.`;
        }
        else {
          msg += `ì˜¤ëŠ˜ ì„œë¡œ ë„ì™€ì£¼ê³  ì‹¶ì€ ì¼ì´ ë¬´ì—‡ì´ ìˆëŠ”ì§€ ìš°ë¦¬ ê°€ì¡±ë„ ì„œë¡œ ë¬¼ì–´ë´ ì£¼ë©° ì´ì•¼ê¸° ë‚˜ëˆ ìš”. ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”.`;
        }
        break;
      case 15:
        msg += `<strong>-1</strong>ì´ ë‚˜ì™”êµ°ìš”! í•œ ì¹¸ ë’¤ì¸ ${thumb(idx-1)}ë¡œ ê°€ì•¼í•©ë‹ˆë‹¤.`;
        break;
      case 16:
        msg += `ì•„ì§ ì•„ë¬´ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. <br><br>ì—¬ë¦„ë°©í•™ì±…ì— ë„£ì„ <strong>í˜¸ê¸°ì‹¬ í‚í‚</strong>ì— ê´€í•´ ìƒê°í•´ ë³´ì„¸ìš”. ë‹¤ìŒì—ëŠ” ë­”ê°€ ë°”ë€”ì§€ë„ ëª°ë¼ìš”. ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”.`;
        break;
      case 17:
        msg += `<strong>+2</strong>ê°€ ë‚˜ì™”êµ°ìš”! ë‘ ì¹¸ ì•ì¸ ${thumb(idx+2)}ë¡œ ê°€ì•¼í•©ë‹ˆë‹¤.`;
        break;
      case 18:
        msg += `ì•„ì§ ì•„ë¬´ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. <br><br>ì—¬ë¦„ë°©í•™ì±…ì— ë„£ì„ <strong>í˜¸ê¸°ì‹¬ í‚í‚</strong>ì— ê´€í•´ ìƒê°í•´ ë³´ì„¸ìš”. ë‹¤ìŒì—ëŠ” ë­”ê°€ ë°”ë€”ì§€ë„ ëª°ë¼ìš”. ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”.`;
        break;
      case 19:
        msg += `<strong>ì†œê½ƒ</strong>ì´ê°€ ë¬¼ì–´ë´…ë‹ˆë‹¤.<br><br>`;
        if(Math.random() > 0.5) {
          msg += `"ë†€ì´ í–ˆë˜ ê²ƒ ì •ë¦¬ë¥¼ ì˜ í•˜ê³  ìˆë‹ˆ?" ì •ë¦¬ë¥¼ ì˜ í–ˆë‹¤ë©´ ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”.`;
        }
        else {
          msg += `"ë°–ì— ë‚˜ê°ˆ ë• ë§ˆìŠ¤í¬ ì˜ ì“°ê³  ê±°ë¦¬ ë‘ê¸° ì˜ í•˜ë‹ˆ?" ì˜ í•œë‹¤ë©´ ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”.`;
        }
        break;
      case 20:
        msg += `ì•„ì§ ì•„ë¬´ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. <br><br>ì´ë²ˆ ì—¬ë¦„ ë°©í•™ì— ë­˜ í•˜ê³  ë†€ë©´ ì¢‹ì„ì§€ ìƒê°í•´ ë´…ì‹œë‹¤. ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”.`;
        break;
      case 21:
        msg += `<strong>+3</strong>ê°€ ë‚˜ì™”êµ°ìš”! ì„¸ ì¹¸ ì•ì¸ ${thumb(idx+3)}ë¡œ ê°€ì•¼í•©ë‹ˆë‹¤.`;
        break;
      case 22:
        msg += `<strong>-3</strong>ê°€ ë‚˜ì™”êµ°ìš”! ì„¸ ì¹¸ ë’¤ì¸ ${thumb(idx-3)}ë¡œ ê°€ì•¼í•©ë‹ˆë‹¤.`;
        break;
      case 23:
        msg += `ì•„ì§ ì•„ë¬´ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. <br><br>ëª‡ ì¼ ë” ê¸°ë‹¤ë ¤ ë´…ì‹œë‹¤. ì˜¤ëŠ˜ì€ ì–¼ë¥¸ ì•ìœ¼ë¡œ ê°€ë´ìš”! ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”.`;
        break;
      case 24:
        n = 7 + (Math.random() * 4 | 0);
        if(Math.random() > 0.5) {
          msg += `<strong>ìš°ì£¼ ìœ </strong>ê°€ ë¡œì¼“ì„ ì‘ë™í–ˆìŠµë‹ˆë‹¤! ğŸ²ë¥¼ êµ´ë ¤ì„œ ì§ìˆ˜(<strong>2, 4, 6</strong> ì¤‘ í•˜ë‚˜ê°€ ë‚˜ì˜¤ë©´ <strong>${n}</strong>ì¹¸ ì•ì¸ ${thumb(idx+n)}ë¡œ ë‚ ì•„ê°‘ë‹ˆë‹¤. í™€ìˆ˜(1, 3, 5) ì¤‘ í•˜ë‚˜ê°€ ë‚˜ì˜¤ë©´ ë‹¤ì‹œ ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì•ìœ¼ë¡œ ê°€ì„¸ìš”.`;
        }
        else {
          msg += `<strong>ìš°ì£¼ ìœ </strong>ê°€ í¬í„¸(ì‹ ê¸°í•œ ë¬¸)ì„ ì—´ì—ˆìŠµë‹ˆë‹¤! ğŸ²ë¥¼ êµ´ë ¤ì„œ í™€ìˆ˜(<strong>1, 3, 5</strong> ì¤‘ í•˜ë‚˜ê°€ ë‚˜ì˜¤ë©´ <strong>${n}</strong>ì¹¸ ì•ì¸ ${thumb(idx+n)}ë¡œ ìˆœê°„ì´ë™í•©ë‹ˆë‹¤. ì§ìˆ˜(2, 4, 6) ì¤‘ í•˜ë‚˜ê°€ ë‚˜ì˜¤ë©´ ë‹¤ì‹œ ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì•ìœ¼ë¡œ ê°€ì„¸ìš”.`;
        }
        on_special_event = true;
        break;
      case 25:
        msg += `ì•„ì§ ì•„ë¬´ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. <br><br>ëª‡ ì¼ ë” ê¸°ë‹¤ë ¤ ë´…ì‹œë‹¤. ì˜¤ëŠ˜ì€ ì–¼ë¥¸ ì•ìœ¼ë¡œ ê°€ë´ìš”! ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”.`;
        break;
      case 26:
        msg += `<strong>-2</strong>ê°€ ë‚˜ì™”êµ°ìš”! ë‘ ì¹¸ ë’¤ì¸ ${thumb(idx-2)}ë¡œ ê°€ì•¼í•©ë‹ˆë‹¤.`;
        break;
      case 27:
        msg += `ì•„ì§ ì•„ë¬´ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. <br><br>ëª‡ ì¼ ë” ê¸°ë‹¤ë ¤ ë´…ì‹œë‹¤. ì˜¤ëŠ˜ì€ ì—´ì‹¬íˆ ì•ìœ¼ë¡œ ê°€ë´ìš”! ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”.`;
        break;
      case 28:
        msg += `ì•„ì§ ì•„ë¬´ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. <br><br>ëª‡ ì¼ ë” ê¸°ë‹¤ë ¤ ë´…ì‹œë‹¤. ì˜¤ëŠ˜ì€ ì‹ ë‚˜ê²Œ ì•ìœ¼ë¡œ ê°€ë´ìš”! ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”.`;
        break;
      case 29:
        msg += `<strong>+3</strong>ì´ ë‚˜ì™”êµ°ìš”! ì„¸ ì¹¸ ì•ì¸ ${thumb(idx+3)}ë¡œ ê°€ì•¼í•©ë‹ˆë‹¤.`;
        break;
      case 30:
        msg += `ì•„ì§ ì•„ë¬´ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. <br><br>ëª‡ ì¼ ë” ê¸°ë‹¤ë ¤ ë´…ì‹œë‹¤. ì˜¤ëŠ˜ì€ ê¾¸ì¤€íˆ ì•ìœ¼ë¡œ ê°€ë´ìš”! ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”.`;
        break;
      case 31:
        msg += `<strong>+1</strong>ì´ ë‚˜ì™”êµ°ìš”! í•œ ì¹¸ ì•ì¸ ${thumb(idx+1)}ë¡œ ê°€ì•¼í•©ë‹ˆë‹¤.`;
        break;
      case 32:
        msg += `<strong>ë‘ìƒˆ</strong>ê°€ì¡±ì„ ë§Œë‚¬ìŠµë‹ˆë‹¤! <br><br>`;
        if(Math.random() > 0.5) {
          msg += `ì´ì œ ë„ì°©ì´ ë¨¸ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì„œë¡œ ì‘ì›í•´ ì¤ì‹œë‹¤! <strong>"í˜ë‚´ë¼~ í˜ë‚´ë¼~"</strong> ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”.`;
        }
        else {
          msg += `ì´ì œ ë„ì°©ì´ ë¨¸ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. <strong>í•˜ì´íŒŒì´ë¸Œ</strong>ë¥¼ í•˜ë©° ì„œë¡œ ì‘ì›í•´ ì¤ì‹œë‹¤! ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”.`;
        }
        break;
      case 33:
        msg += `<strong>-1</strong>ì´ ë‚˜ì™”êµ°ìš”! í•œ ì¹¸ ë’¤ì¸ ${thumb(idx-1)}ë¡œ ê°€ì•¼í•©ë‹ˆë‹¤. ì¡°ê¸ˆë§Œ ë” í˜ë‚´ìš”!`;
        break;
      case 34:
        msg += `<strong>-2</strong>ì´ ë‚˜ì™”êµ°ìš”! ë‘ ì¹¸ ë’¤ì¸ ${thumb(idx-2)}ë¡œ ê°€ì•¼í•©ë‹ˆë‹¤. ì¡°ê¸ˆë§Œ ë” í˜ë‚´ìš”!`;
        break;
      case 35:
        msg += `<strong>-3</strong>ì´ ë‚˜ì™”êµ°ìš”! ì„¸ ì¹¸ ë’¤ì¸ ${thumb(idx-3)}ë¡œ ê°€ì•¼í•©ë‹ˆë‹¤. ì¡°ê¸ˆë§Œ ë” í˜ë‚´ìš”! <strong>"í•  ìˆ˜ ìˆë‹¤!"</strong>`;
        break;
      case 36:
        msg += `ì´ì œ ê±°ì˜ ë‹¤ ì™”ìŠµë‹ˆë‹¤. <br><br>ì˜¤ëŠ˜ì€ í˜ì°¨ê²Œ ì•ìœ¼ë¡œ ê°€ë´ìš”! ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”.`;
        break;
      case 37:
        msg += `ì´ì œ ê±°ì˜ ë‹¤ ì™”ìŠµë‹ˆë‹¤! <br><br>ë§ˆì§€ë§‰ í•œ ë²ˆ ë” ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”.`;
        break;
      case 38:
        msg += `ë“œë””ì–´ ë„ì°©! <strong>íƒí—˜ ë³´ê³ ~</strong><br><br>ì´ë²ˆ ê²Œì„ì—ì„œëŠ” ì „ë¶€ <strong>${roll_count}</strong>ë²ˆ ì£¼ì‚¬ìœ„ë¥¼ êµ´ë ¸ê³ , ë‚˜ì˜¨ ìˆ«ìë¥¼ ë‹¤ í•©í•˜ë©´ <strong>${total_dice_sum}</strong> ì…ë‹ˆë‹¤. ë‹¤ì‹œ í•˜ê³  ì‹¶ìœ¼ë©´ ë§¨ ì²˜ìŒì˜ QRì½”ë“œë¥¼ í´ë¦­í•˜ì„¸ìš”.`;
        break;
      default:
        msg += `... ì•„ì§ ì¤€ë¹„ì¤‘ ì…ë‹ˆë‹¤.<br><br> ì§€ê¸ˆì€ ğŸ²ë¥¼ êµ´ë ¤ì„œ ê³„ì† ì´ì–´ê°€ì„¸ìš”. ì´ë”°ê°€ ë‹¤ì‹œ í•´ë³´ë©´ ë‚´ìš©ì´ ë‚˜ì˜¬ê±°ì—ìš”.`;
        break;
    }
    
    el_message.innerHTML = `${img}${msg}`;
  }
  
  function jump_to(n) {
    if(spots[n]) {
      spots[n].scrollIntoView(false);
    }
  }
  
  function roll() {
    return Math.random() * 6 + 1 | 0;
  }
  
  function roll_the_dice() {
    current_face = roll();
    el_dice.style["background-position"] = `${-(current_face-1)*12}vh 0vh`;
  }
  
  function after_roll() {
    if(!on_special_event) {
      let url = `./spots/${current_face + current_spot_idx}.png`;
      let img = `<img class="thumb" src="${url}">`;
      el_roll_info.innerHTML = `<strong>${current_face}</strong>ì¹¸ ì•ìœ¼ë¡œ ì´ë™í•œ í›„ ê·¸ ì¹¸ì˜ ê·¸ë¦¼${img}ì„ í´ë¦­í•˜ì„¸ìš”!`;  
    }
    else {
      let tn = current_face % 2 === 0 ? 'ì§ìˆ˜' : 'í™€ìˆ˜';
      let yi = [1,3,6];
      let josa = 'ê°€';
      if(yi.indexOf(current_face) !== -1) {
        josa = 'ì´';
      }
      el_roll_info.innerHTML = `${tn} <strong>${current_face}</strong>${josa} ë‚˜ì™”ìŠµë‹ˆë‹¤. ìœ„ ì•ˆë‚´ë¥¼ ë”°ë¼ì„œ ì´ë™í•˜ì„¸ìš”!`; 
      on_special_event = false;
    }
    
    roll_count += 1;
    total_dice_sum += current_face;
  }
  
  el_dice.onclick = function(e) {
    el_dice.style['transition'] = `2s transform, 0.5s background-color`;
    el_dice.style['transform'] = 'rotate(720deg)';
    n_rolling = 10 + Math.random() * 3 | 0;
    el_roll_info.innerHTML = '';
  }
  
  function update() {
    if(n_rolling > 0) {
      if(frame_count % 10 === 0) {
        let colors = '#ff3a3a,orange,yellow,yellowgreen,#448afa,#3806a8,#bf00bf'.split(',');
        el_dice.style['background-color'] = colors[Math.random() * colors.length | 0];
        el_roll_info.innerHTML += effs[Math.random() * effs.length | 0] + ' ';
        roll_the_dice();
        n_rolling -= 1;
        if(n_rolling === 0) {
          el_dice.style['background-color'] = 'beige';
          el_dice.style['transition'] = `0.5s background-color`;
          setTimeout(() => {
            el_dice.style['transform'] = 'rotate(0deg)';
            after_roll();
          }, 500);
        }
      }
    }
    frame_count += 1;
  }
  
  function loop() {
    update();
    requestAnimationFrame(loop);
  }
  
  function init() {
    
    let params = new URLSearchParams(location.search.slice(1));
    let title = params.get('w');
    let desc = '';
    
    switch(params.get('w')) {
      case 'abc':
        desc = `ì–´ë–¤ ë¯¸ì…˜`;
        break;
      case 'def':
        desc = `ì£¼ì‚¬ìœ„ë¥¼ êµ´ë ¤ ${dice_states[roll()-1]}ì´ ë‚˜ì˜¤ë©´ ìƒ›ê¸¸ë¡œ ì í”„`;
        break;
      case 'hij':
        desc = `ì„¤ì •í•œ ì•½ì† ì‹¤í–‰í•˜ê¸°`;
        break;
      case 'G':
        desc = `Goal`;
        el_message.innerHTML = `ë„ì°© QRì½”ë“œë¥¼ í™œìš©í•œ <strong>íƒí—˜ë³´ê³ </strong>ëŠ” ì•„ì§ ì¤€ë¹„ì¤‘ ì…ë‹ˆë‹¤. ì¬ë¯¸ìˆëŠ” ë‚´ìš© ê¸°ëŒ€í•´ ì£¼ì„¸ìš”~`;
        break;
    }
    
    // el_info.textContent = desc;
    
    current_face = roll();
    el_dice.style["background-position"] = `${-(current_face-1)*12}vh 0vh`;
    
    halo(current_spot_idx);
    
    loop();
  }
  
  window.onload = init;
</script>